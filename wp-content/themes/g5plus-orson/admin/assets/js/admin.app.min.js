(function(b){var a={initialize:function(){a.meta_box_tab();a.requiredField()},meta_box_tab:function(){var c=b(meta_box_ids);b("#normal-sortables").after('<div class="g5plus-meta-tabs-wrap postbox"><div class="handlediv" title="Click to toggle"><br></div><h3 class="hndle"><span>Pages Options</span></h3><div id="g5plus-tabbed-meta-boxes"></div></div>');b(c).appendTo("#g5plus-tabbed-meta-boxes");b(c).hide().removeClass("hide-if-no-js");for(var k=0,j=c.length;k<j;k++){var g="editor-tab"+k;b(c[k]).addClass(g)}var l='<ul id="g5plus-meta-box-tabs" class="clearfix">\n';var o=0;for(var f=0,d=c.length;f<d;f++){var m=b(c[f]).attr("id");var h=b(c[f]).find(".hndle > span").text();var e="";if(b(c[f]).hasClass("hide-if-js")){o++}l=l+'\n<li id="li-'+m+'" class="'+e+'"><a href="#" rel="editor-tab'+f+'">'+h+"</a></li>"}l=l+"\n</ul>";b("#g5plus-tabbed-meta-boxes").before(l);b("#g5plus-meta-box-tabs a:first").addClass("active");b(".editor-tab0").addClass("active").show();b(".g5plus-meta-tabs-wrap").on("click",".handlediv",function(){var i=b(this).parent();if(i.hasClass("closed")){i.removeClass("closed")}else{i.addClass("closed")}});b("#g5plus-meta-box-tabs li").on("click","a",function(){b(c).removeClass("active").hide();b("#g5plus-meta-box-tabs a").removeClass("active");var i=b(this).attr("rel");b(this).addClass("active");b("."+i).addClass("active").show();return false})},get_input_val:function(d){var c=d.val();if(d.is(":checkbox")){if(d.prop("checked")){c=d.val()}else{c="0"}}return c},requiredGetApplyFiled:function(h){var g=[];var e=0;if(typeof(h[0])=="object"){for(var f=0;f<h.length;f++){var c=h[f];if(typeof(c[0])=="object"){for(var d=0;d<c.length;d++){g[e++]=c[d][0];if(c[d][1].substr(0,1)=="&"){g[e++]=c[d][2]}}}else{g[e++]=c[0];if(c[1].substr(0,1)=="&"){g[e++]=c[2]}}}}else{g[e++]=h[0];if(h[1].substr(0,1)=="&"){g[e++]=h[2]}}return g},requiredToggle:function(l,k,g){var m=true;if(typeof(k[0])=="object"){for(var f=0;f<k.length;f++){var c=k[f];if(typeof(c[0])=="object"){var h=false;for(var e=0;e<c.length;e++){var d=c[e];h=a.requiredFieldProcess(d);if(h){break}}m=h}else{m=a.requiredFieldProcess(c)}if(!m){break}}}else{m=a.requiredFieldProcess(k)}if(m){if(g){l.slideDown()}else{l.show()}}else{if(g){l.slideUp()}else{l.hide()}}},requiredField:function(){var d=[];b("[data-required]").each(function(){var h=b(this);var k=JSON.parse(h.attr("data-required"));if(typeof(k[0])=="object"){for(var g=0;g<k.length;g++){var e=k[g];if(typeof(e[0])=="object"){for(var f=0;f<e.length;f++){d[e[f][0]]=true;if(e[f][1].substr(0,1)=="&"){d[e[f][2]]=true}}}else{d[e[0]]=true;if(e[1].substr(0,1)=="&"){d[e[2]]=true}}}}else{d[k[0]]=true;if(k[1].substr(0,1)=="&"){d[k[2]]=true}}a.requiredToggle(h,k,false)});for(var c in d){b("#"+c).change(function(){var e=b(this);b("[data-required]").each(function(){var g=b(this);var i=JSON.parse(g.attr("data-required"));var f=a.requiredGetApplyFiled(i);var h=e.attr("id");if(f.indexOf(h)==-1){return}a.requiredToggle(g,i,true)})})}},requiredFieldProcess:function(f){var d=f[0];var c=f[1];var g=f[2];var e=a.get_input_val(b("#"+d));if(typeof(g)=="object"){if(((c=="=")&&(g.indexOf(e)!=-1))||((c=="<>")&&(g.indexOf(e)==-1))){return true}return false}if(c.substr(0,1)=="&"){g=a.get_input_val(b("#"+g));c=c.substr(1)}if(((c=="=")&&(g==e))||((c=="<>")&&(g!=e))){return true}return false}};b(document).ready(function(){a.initialize()})})(jQuery);