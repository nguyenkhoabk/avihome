var G5Plus=G5Plus||{};(function(f){var a=f(window),d=f("body"),b=d.hasClass("rtl"),e=navigator.userAgent.toLowerCase(),i=e.match(/(iphone|ipod|android|iemobile)/),c=e.match(/(iphone|ipod|ipad|android|iemobile)/),h=e.match(/(iphone|ipod|ipad)/),g=e.match(/(iemobile)/);G5Plus.common={init:function(){this.retinaLogo();this.owlCarousel();this.lightGallery();this.tooltip();this.counterUp();this.canvasSidebar();this.verticalProgressbar();setTimeout(G5Plus.common.owlCarouselRefresh,1000);setTimeout(G5Plus.common.owlCarouselCenter,1000);setTimeout(G5Plus.common.owlCarouselCenter,2000);this.initVCTab();this.adminBarProcess()},windowResized:function(){this.canvasSidebar();this.adminBarProcess();setTimeout(G5Plus.common.owlCarouselRefresh,1000);setTimeout(G5Plus.common.owlCarouselCenter,1000)},windowScroll:function(){this.canvasSidebar()},owlCarousel:function(){f(".owl-carousel:not(.manual):not(.owl-loaded)").each(function(){var l=f(this),k={items:3,nav:false,navText:['<i class="fa fa-arrow-left"></i> '+g5plus_framework_constant.owl_prev,g5plus_framework_constant.owl_next+' <i class="fa fa-arrow-right"></i>'],dots:true,loop:false,center:false,mouseDrag:true,touchDrag:true,pullDrag:true,freeDrag:false,margin:0,stagePadding:0,merge:false,mergeFit:true,autoWidth:false,startPosition:0,rtl:b,smartSpeed:250,fluidSpeed:false,dragEndSpeed:false,autoplayHoverPause:true},j=f.extend({},k,l.data("owl-config"));if(l.parent().parent().hasClass("product-split-screen")){j=f.extend({},j,{responsive:{0:{items:1},480:{items:2},768:{items:1},800:{items:2},1200:{items:3}}})}l.imagesLoaded({background:true},function(){l.owlCarousel(j)});l.on("changed.owl.carousel",function(m){var n=f(".archive-masonry .blog-wrap");setTimeout(function(){n.isotope("layout")},500)})})},owlCarouselRefresh:function(){f(".owl-carousel.owl-loaded").each(function(){var k=f(this),l=k.data("owl.carousel");if(typeof(l)!="undefined"){if(l.options.autoHeight){var j=0;f(".owl-item.active",k).each(function(){if(f(this).outerHeight()>j){j=f(this).outerHeight()}});f(".owl-height",k).css("height",j+"px")}}})},owlCarouselCenter:function(){f(".product-listing > .owl-nav-center").each(function(){var j=f(this);j.imagesLoaded({background:true},function(){var k=f("img",j).height()/2;if(window.matchMedia("(min-width: 1350px)").matches){f(".owl-nav > div",j).css("top",k+"px")}else{f(".owl-nav > div",j).css("top","")}})})},lightGallery:function(){f("[data-rel='lightGallery']").each(function(){var m=f(this),l=f(this).parent().parent().parent(),k=m.data("gallery-id"),j="";m.on("click",function(o){o.preventDefault();var n=[];f('[data-gallery-id="'+k+'"]',l).each(function(){var q=f(this).attr("href"),p=f(this).data("thumb-src");if(j.indexOf(q)==-1){n.push({src:q,thumb:p});j+="|"+q}});m.lightGallery({hash:false,dynamic:true,dynamicEl:n,thumbWidth:80})})});f("a.view-video").on("click",function(k){k.preventDefault();var j=f(this).attr("data-src");f(this).lightGallery({dynamic:true,dynamicEl:[{src:j,thumb:"",subHtml:""}]})})},isDesktop:function(){var k=991;var j=f(".x-nav-menu");if((j.length>0)&&(typeof(j.attr("responsive-breakpoint"))!="undefined")&&!isNaN(parseInt(j.attr("responsive-breakpoint"),10))){k=parseInt(j.attr("responsive-breakpoint"),10)}return window.matchMedia("(min-width: "+(k+1)+"px)").matches},tooltip:function(){if(f().tooltip&&!c){if(!d.hasClass("woocommerce-compare-page")){f('[data-toggle="tooltip"]').tooltip()}f(".yith-wcwl-wishlistexistsbrowse,.yith-wcwl-add-button,.yith-wcwl-wishlistaddedbrowse",".product-actions").each(function(){var j=f("a",f(this)).text().trim();f(this).tooltip({title:j})});f(".compare",".product-actions").each(function(){var j=f(this).text().trim();f(this).tooltip({title:j})})}},counterUp:function(){f(".counter").each(function(){var l=f(this);var k={delay:10,time:1000};var j=f.extend({},k,l.data("counter-config"));l.counterUp(j)})},canvasSidebar:function(){var j=f(".sidebar-mobile-canvas");if(typeof(j)!="undefined"){if(!f("body").find("#wrapper").next().hasClass("overlay-canvas-sidebar")){f("#wrapper").after('<div class="overlay-canvas-sidebar"></div>')}var k=f("#wpadminbar").height();if(!G5Plus.common.isDesktop()){j.css("margin-top",k+"px");j.css("height",f(window).height()+"px");j.css("overflow-y","auto");if((f("#wpadminbar").css("position")!="fixed")&&(f(window).scrollTop()>=k)){j.css("margin-top","0px")}if(f.isFunction(f.fn.perfectScrollbar)){j.perfectScrollbar()}}else{j.css("overflow-y","hidden");j.css("height","auto");j.scrollTop(0);if(f.isFunction(f.fn.perfectScrollbar)){j.perfectScrollbar("destroy")}j.removeAttr("style")}f(".sidebar-mobile-canvas-icon").on("click",function(){var l=f(this).parent().children(".sidebar-mobile-canvas");f(this).addClass("changed");l.addClass("changed");f(".overlay-canvas-sidebar").addClass("changed")});f(".sidebar-mobile-canvas-icon-close").on("click",function(){f(this).parent().prev(".sidebar-mobile-canvas-icon").removeClass("changed");f(this).parent().removeClass("changed");f(".overlay-canvas-sidebar").removeClass("changed")});f(".overlay-canvas-sidebar").on("click",function(){if(f(".sidebar-mobile-canvas-icon").hasClass("changed")){f(".sidebar-mobile-canvas-icon-close").click()}})}},verticalProgressbar:function(){if("undefined"!==typeof(f.fn.waypoint)){f(".v-progress-bar").waypoint(function(){f(this).find(".vc_single_bar").each(function(j){var l=f(this),k=l.find(".vc_bar"),m=k.data("percentage-value");setTimeout(function(){k.css({height:m+"%"})},j*200)})},{offset:"85%"})}},initVCTab:function(){var j=0;f("a",".vc_tta-tabs ul.vc_tta-tabs-list").off("click").each(function(){f(this).on("click",function(o){if(f(this).parent().hasClass("vc_active")){j=1}else{j=0}o.preventDefault();if(j==1){return false}j=1;var m=f(this).parent().parent();var k=f(f(this).attr("href"),".vc_tta-panels-container");var n="";var l="";if(typeof m!="undefined"){f("li",m).removeClass("vc_active");f(this).parent().addClass("vc_active");f("li a",m).each(function(){n=f(this).attr("href");if(f(n+".vc_active",".vc_tta-panels-container").length>0){l=f(n+".vc_active",".vc_tta-panels-container")}});l.fadeOut(400,function(){l.removeClass("vc_active");l.fadeIn();k.fadeIn(0,function(){k.addClass("vc_active");j=0})})}f(this).on("click");return false})})},adminBarProcess:function(){if(window.matchMedia("(max-width: 600px)").matches){f("#wpadminbar").css("top","-46px")}else{f("#wpadminbar").css("top","")}},retinaLogo:function(){if(window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.5)").matches||window.matchMedia("only screen and (-o-min-device-pixel-ratio: 3/2)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5)").matches||window.matchMedia("only screen and (min-device-pixel-ratio: 1.5)").matches){f("img[data-retina]").each(function(){f(this).attr("src",f(this).attr("data-retina"))})}}};G5Plus.page={init:function(){this.parallax();this.parallaxDisable();this.pageTitle();this.button();this.footerParallax();this.footerWidgetCollapse();this.events();this.page404();this.pageTransition();this.backToTop()},events:function(){f(document).on("vc-full-width-row",function(){if(d.hasClass("boxed")){G5Plus.page.fullWidthRow()}if(b){G5Plus.page.fullWidthRowRTL()}f(".owl-carousel.owl-loaded",f('[data-vc-full-width="true"]')).each(function(){f(this).data("owl.carousel").onResize()})})},windowLoad:function(){this.fadePageIn()},windowResized:function(){this.parallaxDisable();this.pageTitle();this.button();this.footerParallax();this.footerWidgetCollapse();this.wpb_image_grid();this.page404()},parallax:function(){f.stellar({horizontalScrolling:false,scrollProperty:"scroll",positionProperty:"position",responsive:false})},parallaxDisable:function(){if(G5Plus.common.isDesktop()){f(".parallax").removeClass("parallax-disabled")}else{f(".parallax").addClass("parallax-disabled")}},pageTitle:function(){var k=f(".page-title-layout-normal"),m=f(".container",k),j=f("h1",k),l=f(".breadcrumbs",k);k.removeClass("left");if((j.width()+l.width())>m.width()){k.addClass("left")}},button:function(){f(".btn.btn-block.btn-icon,.mc-style4 .btn.btn-icon").each(function(){var j=f(this).width()-f("i",f(this)).width()-parseInt(f("i",f(this)).css("margin-left").replace("px",""),10)-parseInt(f("i",f(this)).css("margin-right").replace("px",""),10);f("span",f(this)).css({width:j+"px"});if(f(this).height()>f("span",f(this)).height()){f("span",f(this)).css({width:(j-1)+"px"})}})},footerParallax:function(){if(window.matchMedia("(max-width: 767px)").matches){d.css("margin-bottom","")}else{setTimeout(function(){var j=f("footer.main-footer-wrapper");if(j.hasClass("enable-parallax")){var l=f("header.main-header .sticky-wrapper").length>0?55:0,m=f("#wpadminbar"),k=m.length>0?m.outerHeight():0;if((a.height()>=(j.outerHeight()+l+k))){d.css("margin-bottom",(j.outerHeight())+"px");j.removeClass("static")}else{d.css("margin-bottom","");j.addClass("static")}}},100)}},footerWidgetCollapse:function(){if(window.matchMedia("(max-width: 767px)").matches){f("footer.footer-collapse-able aside.widget").each(function(){var k=f("h4.widget-title",this);var j=k.next();k.addClass("title-collapse");if((j!=null)&&(typeof(j)!="undefined")){j.hide()}k.off();k.on("click",function(){var l=f(this).next();if(f(this).hasClass("title-expanded")){f(this).removeClass("title-expanded");k.addClass("title-collapse");l.slideUp()}else{f(this).addClass("title-expanded");k.removeClass("title-collapse");l.slideDown()}})})}else{f("footer aside.widget").each(function(){var k=f("h4.widget-title",this);k.off();var j=k.next();k.removeClass("collapse");k.removeClass("expanded");j.show()})}},fullWidthRow:function(){f('[data-vc-full-width="true"]').each(function(){var p=f(this),n=f("#wrapper");p.addClass("vc_hidden");p.attr("style","");if(!d.hasClass("has-sidebar")){var r=p.next(".vc_row-full-width");r.length||(r=p.parent().next(".vc_row-full-width"));var o=parseInt(p.css("margin-left"),10),l=parseInt(p.css("margin-right"),10),m=n.offset().left-r.offset().left-o,j=n.width();p.css({position:"relative",left:m,"box-sizing":"border-box",width:n.width()});if(!p.data("vcStretchContent")){var q=-1*m;if(q<0){q=0}var k=j-q-r.width()+o+l;if(k<0){k=0}p.css({"padding-left":q+"px","padding-right":k+"px"})}}p.removeClass("vc_hidden")})},fullWidthRowRTL:function(){f('[data-vc-full-width="true"]').each(function(){var j=f(this).css("left");f(this).css({left:"auto",right:j})})},wpb_image_grid:function(){f(".wpb_gallery_slides.wpb_image_grid .wpb_image_grid_ul").each(function(j){var k=f(this);setTimeout(function(){k.isotope("layout")},1000)})},page404:function(){if(!d.hasClass("error404")){return}var l=a.outerHeight();var k=0;var j=null;if(G5Plus.common.isDesktop()){j=f("header.main-header")}else{j=f("header.header-mobile")}if(j.length==0){return}k=l-j.offset().top-j.outerHeight()-f("body.error404 .content-wrap").outerHeight();if(k<200){k=200}k/=2;f("body.error404 .page404").css("padding",k+"px 0")},pageTransition:function(){if(d.hasClass("page-transitions")){var j='.animsition-link, a[href]:not([target="_blank"]):not([href^="#"]):not([href*="javascript"]):not([href*=".jpg"]):not([href*=".jpeg"]):not([href*=".gif"]):not([href*=".png"]):not([href*=".mov"]):not([href*=".swf"]):not([href*=".mp4"]):not([href*=".flv"]):not([href*=".avi"]):not([href*=".mp3"]):not([href^="mailto:"]):not([class*="no-animation"]):not([class*="prettyPhoto"]):not([class*="add_to_wishlist"]):not([class*="add_to_cart_button"]):not([class*="compare"])';f(j).on("click",function(l){if(f(l.target).closest(f("b.x-caret",this)).length>0){l.preventDefault();return}l.preventDefault();var m=f(this);var k=m.attr("href");if(l.which===2||l.metaKey||l.shiftKey||navigator.platform.toUpperCase().indexOf("WIN")!==-1&&l.ctrlKey){window.open(k,"_blank")}else{G5Plus.page.fadePageOut(k)}})}},fadePageIn:function(){if(d.hasClass("page-loading")){var j=1000,k=f(".site-loading");k.css("opacity","0");setTimeout(function(){k.css("display","none")},j)}},fadePageOut:function(j){f(".site-loading").css("display","block").animate({opacity:1,delay:200},600,"linear");f("html,body").animate({scrollTop:"0px"},800);setTimeout(function(){window.location=j},600)},backToTop:function(){var j=f(".back-to-top");if(j.length>0){j.on("click",function(k){k.preventDefault();f("html,body").animate({scrollTop:"0px"},800)});a.on("scroll",function(l){var k=a.scrollTop();var m=a.height()/2;if(k>m){j.addClass("in")}else{j.removeClass("in")}})}}};G5Plus.blog={init:function(){this.masonryLayout();setTimeout(this.masonryLayout,300);this.postMeta();this.loadMore();this.infiniteScroll();this.commentReplyTitle()},windowResized:function(){this.postMeta()},postMeta:function(){f("article.post-large-image .entry-meta-wrap,article.post-medium-image .entry-meta-wrap,article.post-masonry .entry-meta-wrap").each(function(){var l=f(this),k=f(".read-more",l),j=f(".entry-post-meta",l);l.removeClass("left");if((k.outerWidth()+j.outerWidth()+10)>l.outerWidth()){l.addClass("left")}})},loadMore:function(){f(".paging-navigation").on("click",".blog-load-more",function(m){m.preventDefault();var n=f(this).button("loading"),l=f(this).attr("data-href"),j=".blog-wrap",k=".blog-wrap article";f.get(l,function(q){var p=f(".blog-load-more",q).attr("data-href"),o=f(k,q).css({opacity:0});f(j).append(o);o.imagesLoaded({background:true},function(){G5Plus.common.owlCarousel();G5Plus.blog.postMeta();G5Plus.common.lightGallery();o.animate({opacity:1});if(f(".archive-wrap").hasClass("archive-masonry")){f(j).isotope("appended",o);setTimeout(function(){f(j).isotope("layout")},400)}});if(typeof(p)=="undefined"){n.parent().remove()}else{n.button("reset");n.attr("data-href",p)}})})},infiniteScroll:function(){var j=f(".blog-wrap");j.infinitescroll({navSelector:"#infinite_scroll_button",nextSelector:"#infinite_scroll_button a",itemSelector:"article",animate:true,loading:{finishedMsg:"No more pages to load.",selector:"#infinite_scroll_loading",img:g5plus_app_variable.theme_url+"assets/images/ajax-loader.gif",msgText:"Loading..."}},function(l){var k=f(l).css({opacity:0});k.imagesLoaded({background:true},function(){G5Plus.common.owlCarousel();G5Plus.blog.postMeta();G5Plus.common.lightGallery();k.animate({opacity:1});if(f(".archive-wrap").hasClass("archive-masonry")){j.isotope("appended",k);setTimeout(function(){j.isotope("layout")},400)}})})},masonryLayout:function(){var j=f(".archive-masonry .blog-wrap");j.imagesLoaded({background:true},function(){j.isotope({itemSelector:"article",layoutMode:"masonry",isOriginLeft:!b});setTimeout(function(){j.isotope("layout")},500)})},commentReplyTitle:function(){var k=f("h3#reply-title");k.addClass("widget-title mg-top-40");var j=f("small",k);j.remove();k.html("<span>"+k.text()+"</span> ");k.append(j)}};G5Plus.woocommerce={init:function(){this.setCartScrollBar();this.addToWishlist();if(!d.hasClass("woocommerce-compare-page")){this.addToCart()}this.addCartQuantity();this.quickView();this.product_deal_width();setTimeout(G5Plus.woocommerce.product_deal_width,500);setTimeout(G5Plus.woocommerce.product_deal_width,1000);this.sale_countdown();this.processWidgetTitle();d.on("updated_shipping_method",G5Plus.woocommerce.processWidgetTitle);f(document).on("yith-wcan-ajax-filtered",G5Plus.common.tooltip);this.categoryName();var j=f("#single-product-image");this.singleProductImage(j)},windowResized:function(){setTimeout(function(){G5Plus.woocommerce.product_deal_width();G5Plus.woocommerce.sale_countdown_width()},500);this.categoryName();this.setCartScrollBar()},windowLoad:function(){this.setCartScrollBar()},setCartScrollBar:function(){setTimeout(function(){var p=f("#wpadminbar");var k=p.outerHeight();var q=f(".site-top").outerHeight();var l=f(".shopping-cart-wrapper").outerHeight();var s=a.height();var m=417;var r=40;var o=287;var n="124px";var j=3;if(s-k-q-l-r<m){o=200;n="100px";j=2}f("ul.cart_list.product_list_widget").css("max-height",o);f("ul.cart_list.product_list_widget").perfectScrollbar({wheelSpeed:0.5,suppressScrollX:true});f("ul.cart_list.product_list_widget").perfectScrollbar("update");if(f("ul.cart_list.product_list_widget li").length>j){f("ul.cart_list.product_list_widget .ps-scrollbar-y").css("height",n)}},1000)},addToWishlist:function(){f(document).on("click",".add_to_wishlist",function(){var k=f(this),j=k.parent().parent();if(!j.parent().hasClass("single-product-function")){k.addClass("added-spinner");var l=j.parent().parent().parent().parent();if(typeof(l)=="undefined"){return}l.addClass("active")}});d.on("added_to_wishlist",function(o,j,k,m){var n=f(".added-spinner.add_to_wishlist"),l=n.parent().parent();if(!l.parent().hasClass("single-product-function")){var p=l.parent().parent().parent().parent();if(typeof(p)=="undefined"){return}setTimeout(function(){p.removeClass("active");n.removeClass("added-spinner")},700)}})},addToCart:function(){f(document).on("click",".add_to_cart_button",function(){var j=f(this);if(!j.hasClass("single_add_to_cart_button")&&j.is(".product_type_simple")){var k=j.parent().parent().parent().parent();if(typeof(k)=="undefined"){return}k.addClass("active")}});d.on("added_to_cart",function(n,j,k,l){G5Plus.woocommerce.setCartScrollBar();var p=l.hasClass("single_add_to_cart_button");if(p){return}var m=l,o=m.parent().parent().parent().parent();setTimeout(function(){o.removeClass("active")},700)})},singleProductImage:function(k){var m=k.find(".single-product-image-main"),n=k.find(".single-product-image-thumb");m.owlCarousel({items:1,nav:false,dots:false,loop:false,rtl:b}).on("changed.owl.carousel",l);n.on("initialized.owl.carousel",function(){n.find(".owl-item").eq(0).addClass("current")}).owlCarousel({items:4,nav:false,dots:false,rtl:b,margin:10,responsive:{992:{items:4},768:{items:3}}}).on("changed.owl.carousel",j);function l(p){var r=p.item.index;n.find(".owl-item").removeClass("current").eq(r).addClass("current");var q=n.find(".owl-item.active").length-1;var s=n.find(".owl-item.active").first().index();var o=n.find(".owl-item.active").last().index();if(r>o){n.data("owl.carousel").to(r,100,true)}if(r<s){n.data("owl.carousel").to(r-q,100,true)}}function j(o){var p=o.item.index;m.data("owl.carousel").to(p,100,true)}n.on("click",".owl-item",function(p){p.preventDefault();if(f(this).hasClass("current")){return}var o=f(this).index();m.data("owl.carousel").to(o,300,true)});f(document).on("change",".variations_form .variations select,.variations_form .variation_form_section select,div.select",function(){var w=f(this).closest(".variations_form");var z={},q=w.find(".reset_variations");w.find(".variations select,.variation_form_section select").each(function(){var A=f(this).val();z[f(this).attr("name")]=f(this).val()});w.find('.variation_form_section div.select input[type="hidden"]').each(function(){var A=f(this).val();z[f(this).attr("name")]=f(this).val()});var x=w.data("product_variations");var u=0;var r=true;for(var p=0;p<x.length;p++){r=true;var o=x[p]["attributes"];for(var y in o){var v=o[y];var t=z[y];if(v==undefined||t==undefined){r=false;break}if(v.length==0){continue}if(v!=t){r=false;break}}if(r){u=x[p]["variation_id"];break}}if(u>0){var s=parseInt(f('a[data-variation_id*="|'+u+'|"]',m).data("index"),10);if(!isNaN(s)){m.data("owl.carousel").to(s,300,true);setTimeout(function(){m.data("owl.carousel").to(s,300,true)},1000)}}})},addCartQuantity:function(){f(document).off("click",".quantity .btn-number").on("click",".quantity .btn-number",function(q){q.preventDefault();var o=f(this).data("type"),l=f("input",f(this).parent()),m=parseFloat(l.val()),j=parseFloat(l.attr("max")),n=parseFloat(l.attr("min")),p=parseFloat(l.attr("step")),k=0;if(l.attr("step").indexOf(".")>0){k=l.attr("step").split(".")[1].length}if(isNaN(j)){j=100}if(isNaN(n)){n=0}if(isNaN(p)){p=1;k=0}if(!isNaN(m)){if(o=="minus"){if(m>n){m=(m-p).toFixed(k);l.val(m).change()}if(parseFloat(l.val())<=n){l.val(n).change();f(this).attr("disabled",true)}}if(o=="plus"){if(m<j){m=(m+p).toFixed(k);l.val(m).change()}if(parseFloat(l.val())>=j){l.val(j).change();f(this).attr("disabled",true)}}}else{l.val(n)}});f("input",".quantity").on("focusin",function(){f(this).data("oldValue",f(this).val())});f("input",".quantity").on("change",function(){var k=f(this),j=parseFloat(k.attr("max")),m=parseFloat(k.attr("min")),l=parseFloat(k.val()),n=parseFloat(k.attr("step"));if(isNaN(j)){j=100}if(isNaN(m)){m=0}if(isNaN(n)){n=1}var o=f(".add_to_cart_button",f(this).parent().parent().parent());if(l>=m){f(".btn-number[data-type='minus']",f(this).parent()).removeAttr("disabled");if(typeof(o)!="undefined"){o.attr("data-quantity",l)}}else{alert("Sorry, the minimum value was reached");f(this).val(f(this).data("oldValue"));if(typeof(o)!="undefined"){o.attr("data-quantity",f(this).data("oldValue"))}}if(l<=j){f(".btn-number[data-type='plus']",f(this).parent()).removeAttr("disabled");if(typeof(o)!="undefined"){o.attr("data-quantity",l)}}else{alert("Sorry, the maximum value was reached");f(this).val(f(this).data("oldValue"));if(typeof(o)!="undefined"){o.attr("data-quantity",f(this).data("oldValue"))}}})},processWidgetTitle:function(){f(".cart_totals > h2,.woocommerce-account .woocommerce h3,.woocommerce-account .woocommerce h2,.woocommerce-checkout .woocommerce h3,.woocommerce-checkout .woocommerce h2").each(function(){f(this).addClass("widget-title mg-bottom-30").html("<span>"+f(this).html().trim()+"</span>")})},quickView:function(){var j=false;f(document).on("click",".product-quick-view",function(p){p.preventDefault();if(j){return}j=true;var n=f(this).data("product_id"),o="#popup-product-quick-view-wrapper",l=f(this).find("i"),k=l.attr("class"),q=f(this).parent().parent().parent().parent(),m=f(this);q.addClass("active");m.addClass("active");l.attr("class","fa fa-spinner fa-pulse");f.ajax({url:g5plus_app_variable.ajax_url,data:{action:"product_quick_view",id:n},success:function(s){q.removeClass("active");m.removeClass("active");l.attr("class",k);if(f(o).length){f(o).remove()}f("body").append(s);G5Plus.woocommerce.addCartQuantity();G5Plus.common.tooltip();G5Plus.woocommerce.sale_countdown();var t=f("#quick-view-product-image");G5Plus.woocommerce.singleProductImage(t);if(typeof f.fn.wc_variation_form!=="undefined"){var u=f(o).find(".variations_form");var r=f(o).find(".variations_form .variations select");u.wc_variation_form();u.trigger("check_variations");r.change()}f(o).modal();j=false;G5Plus.common.lightGallery()},error:function(r){j=false}})})},sale_countdown:function(){f(".product-deal-countdown").each(function(){var k=f(this).data("date-end");var l=f(this);l.countdown(k,function(m){j(m,l)}).on("update.countdown",function(m){j(m,l)})});function j(m,n){var o=parseInt(m.offset.seconds);var l=parseInt(m.offset.minutes);var k=parseInt(m.offset.hours);var p=parseInt(m.offset.totalDays);if(p<10){p="0"+p}if(k<10){k="0"+k}if(l<10){l="0"+l}if(o<10){o="0"+o}f(".countdown-day",n).text(p);f(".countdown-hours",n).text(k);f(".countdown-minutes",n).text(l);f(".countdown-seconds",n).text(o)}G5Plus.woocommerce.sale_countdown_width()},sale_countdown_width:function(){f(".product-deal-countdown").each(function(){var j=0;f(this).removeClass("small");f(".countdown-section",f(this)).each(function(){j+=f(this).outerWidth()+parseInt(f(this).css("margin-right").replace("px",""),10)});if(j>f(this).outerWidth()){f(this).addClass("small")}})},categoryName:function(){f(".product-listing.woocommerce .product-category h3").each(function(){f(this).css("margin-bottom","-"+Math.floor(f(this).outerHeight()/2)+"px")})},product_deal_width:function(){f(".g5plus-product-deals").each(function(){var k=f(this);k.removeClass("product-item-vertical");k.imagesLoaded({background:true},function(){if(j(k)){k.addClass("product-item-vertical")}})});function j(k){var l=false;f(".product-item-wrap",k).each(function(){var m=f(".product-thumb img",f(this)),n=f(".product-info",f(this));if(m.outerHeight()<n.outerHeight()){l=true;return false}});return l}}};G5Plus.search={};G5Plus.header={timeOutSearch:null,xhrSearchAjax:null,init:function(){this.anchoPreventDefault();this.topDrawerToggle();this.switchMenu();this.sticky();this.menuCategories();this.searchProduct();this.searchButton();this.closeButton();this.searchAjaxButtonClick();this.closestElement();this.menuMobileToggle();f('[data-search="ajax"]').each(function(){G5Plus.header.searchAjax(f(this))});this.escKeyPress();this.mobileNavOverlay();this.perfectScroll()},windowsScroll:function(){this.sticky();this.menuDropFlyPosition()},windowResized:function(){this.sticky();this.menuDropFlyPosition()},windowLoad:function(){},topDrawerToggle:function(){f(".top-drawer-toggle").on("click",function(){f(".top-drawer-inner").slideToggle();f(".top-drawer-wrapper").toggleClass("in")})},switchMenu:function(){f("header .menu-switch").on("click",function(){f(".header-nav-inner").toggleClass("in")})},menuCategories:function(){f(".menu-categories-select > i").on("click",function(){f(".menu-categories").toggleClass("in")})},sticky:function(){f(".sticky-wrapper").each(function(){var l=f(this);var j=60;if(G5Plus.common.isDesktop()){j=55}if(f(document).outerHeight()-l.outerHeight()-l.offset().top<=a.outerHeight()-j){l.removeClass("is-sticky");f(".sticky-region",l).css("top","");return}var k=0;if(f("#wpadminbar").length&&(f("#wpadminbar").css("position")=="fixed")){k=f("#wpadminbar").outerHeight()}if(f(window).scrollTop()>l.offset().top-k){l.addClass("is-sticky");f(".sticky-region",l).css("top",k+"px")}else{l.removeClass("is-sticky");f(".sticky-region",l).css("top","")}})},searchProduct:function(){f(".search-product-wrapper .categories").each(function(){var k=f(this),j=k.parent();f("> span",k).on("click",function(){f(".search-category-dropdown",j).slideToggle();f(this).toggleClass("in");f(".search-ajax-result",j).html("");f('input[type="text"]',j).val("")});f(".search-category-dropdown span",k).on("click",function(){f("> span",k).html(f(this).html());f("> span",k).attr("data-id",f(this).attr("data-id"));f(".search-category-dropdown",j).slideToggle();f("> span",k).toggleClass("in")})})},searchButton:function(){var j=f(".header-customize-item.item-search > a, .mobile-search-button > a");if(!j.length){return}var k=f("#search_popup_wrapper");if(!k.length){return}if(j.hasClass("search-ajax")){j.on("click",function(){a.scrollTop(0);k.addClass("in");f("body").addClass("overflow-hidden");var n=f('input[type="text"]',k);n.focus();n.val("");var m=f(".search-ajax-result",k);m.html("")})}else{var l=new DialogFx(k[0]);j.on("click",l.toggle.bind(l));j.on("click",function(){var m=f('input[type="text"]',k);m.focus();m.val("")})}},searchAjax:function(j){f('input[type="text"]',j).on("keyup",function(l){if(l.altKey||l.ctrlKey||l.shiftKey||l.metaKey){return}var k=["Control","Alt","Shift"];if(k.indexOf(l.key)!=-1){return}switch(l.which){case 27:f(".search-ajax-result",j).html("");j.removeClass("in");f(this).val("");break;case 38:G5Plus.header.searchAjaxKeyUp(j);l.preventDefault();break;case 40:G5Plus.header.searchAjaxKeyDown(j);l.preventDefault();break;case 13:G5Plus.header.searchAjaxKeyEnter(j);break;default:clearTimeout(G5Plus.header.timeOutSearch);G5Plus.header.timeOutSearch=setTimeout(G5Plus.header.searchAjaxSearchProcess,500,j,false);break}})},searchAjaxKeyUp:function(l){var k=f(".search-ajax-result li.selected",l);if(f(".search-ajax-result li",l).length<2){return}var j=k.prev();k.removeClass("selected");if(j.length){j.addClass("selected")}else{f(".search-ajax-result li:last",l).addClass("selected");j=f(".search-ajax-result li:last",l)}if(j.position().top<f(".ajax-search-result",l).scrollTop()){f(".ajax-search-result",l).scrollTop(j.position().top)}else{if(j.position().top+j.outerHeight()>f(".ajax-search-result",l).scrollTop()+f(".ajax-search-result",l).height()){f(".ajax-search-result",l).scrollTop(j.position().top-f(".ajax-search-result",l).height()+j.outerHeight())}}},searchAjaxKeyDown:function(l){var k=f(".search-ajax-result li.selected",l);if(f(".search-ajax-result li",l).length<2){return}var j=k.next();k.removeClass("selected");if(j.length){j.addClass("selected")}else{f(".search-ajax-result li:first",l).addClass("selected");j=f(".search-ajax-result li:first",l)}if(j.position().top<f(".search-ajax-result",l).scrollTop()){f(".search-ajax-result",l).scrollTop(j.position().top)}else{if(j.position().top+j.outerHeight()>f(".search-ajax-result",l).scrollTop()+f(".search-ajax-result",l).height()){f(".search-ajax-result",l).scrollTop(j.position().top-f(".search-ajax-result",l).height()+j.outerHeight())}}},searchAjaxKeyEnter:function(k){var j=f(".search-ajax-result li.selected a",k);if(j.length>0){window.location=j.attr("href")}},searchAjaxSearchProcess:function(n,k){var j=f('input[type="text"]',n).val();if(!k&&j.length<3){f(".search-ajax-result",n).html("");return}f(".search-button i",n).addClass("fa-spinner fa-spin");f(".search-button i",n).removeClass("fa-search");if(G5Plus.header.xhrSearchAjax){G5Plus.header.xhrSearchAjax.abort()}var m=n.attr("data-ajax-action");var l="action="+m+"&keyword="+j;if(f(".categories > span[data-id]",n)){l+="&cate_id="+f(".categories > span[data-id]",n).attr("data-id")}G5Plus.header.xhrSearchAjax=f.ajax({type:"POST",data:l,url:g5plus_app_variable.ajax_url,success:function(o){f(".search-button i",n).removeClass("fa-spinner fa-spin");f(".search-button i",n).addClass("fa-search");n.addClass("in");f(".search-ajax-result",n).html(o)},error:function(o){if(o&&(o.statusText=="abort")){return}f(".search-button i",n).removeClass("fa-spinner fa-spin");f(".search-button i",n).addClass("fa-search")}})},searchAjaxButtonClick:function(){f(".search-button").on("click",function(){var j=f(f(this).attr("data-search-wrapper"));G5Plus.header.searchAjaxSearchProcess(j,true)})},menuMobileToggle:function(){f(".toggle-icon-wrapper > .toggle-icon").on("click",function(){var l=f(this);var k=l.parent();var j=k.attr("data-drop-type");k.toggleClass("in");if(j=="menu-drop-fly"){f("body").toggleClass("mobile-nav-in")}else{f(".nav-menu-mobile").slideToggle()}})},escKeyPress:function(){f(document).on("keyup",function(k){if(k.altKey||k.ctrlKey||k.shiftKey||k.metaKey){return}var j=["Control","Alt","Shift"];if(j.indexOf(k.key)!=-1){return}if(k.which==27){if(f("#search_popup_wrapper").hasClass("in")){f("#search_popup_wrapper").removeClass("in");setTimeout(function(){f("body").removeClass("overflow-hidden")},500)}}})},anchoPreventDefault:function(){f(".prevent-default").on("click",function(j){j.preventDefault()})},closeButton:function(){f(".close-button").on("click",function(){var k=f(this);var j=k.attr("data-ref");if(f("#search_popup_wrapper").hasClass("in")){setTimeout(function(){f("body").removeClass("overflow-hidden")},500)}f(j).removeClass("in")})},closestElement:function(){f(a).on("click",function(j){if(f(j.target).closest(".search-product-wrapper .categories").length==0){f(".search-product-wrapper .search-category-dropdown").slideUp();f(".search-product-wrapper .categories > span").removeClass("in")}if(f(j.target).closest(".search-product-wrapper").length==0){f(".search-ajax-result").html("");f(".search-product-wrapper").removeClass("in");f('input[type="text"]',".search-product-wrapper").val("")}})},mobileNavOverlay:function(){f(".mobile-nav-overlay").on("click",function(){f("body").removeClass("mobile-nav-in");f(".toggle-mobile-menu").removeClass("in")})},menuDropFlyPosition:function(){var j=0;if(f("#wpadminbar").length&&(f("#wpadminbar").css("position")=="fixed")){j=f("#wpadminbar").outerHeight()}f(".header-mobile-nav.menu-drop-fly").css("top",j+"px")},perfectScroll:function(){var j=f(".categories .search-category-dropdown");j.perfectScrollbar({wheelSpeed:0.5,suppressScrollX:true})}};G5Plus.footer={init:function(){}};G5Plus.widget={init:function(){this.categoryCaret()},categoryCaret:function(){f("li",".widget_categories, .widget_pages, .widget_nav_menu, .widget_product_categories, .product-categories").each(function(){if(f(" > ul",this).length>0){f(this).append('<span class="li-caret fa fa-plus"></span>')}});f(".li-caret").on("click",function(){f(this).toggleClass("in");f(" > ul",f(this).parent()).slideToggle()})}};G5Plus.onReady={init:function(){G5Plus.common.init();G5Plus.header.init();G5Plus.page.init();G5Plus.blog.init();G5Plus.woocommerce.init();G5Plus.footer.init();G5Plus.widget.init()}};G5Plus.onLoad={init:function(){G5Plus.header.windowLoad();G5Plus.page.windowLoad();G5Plus.woocommerce.windowLoad()}};G5Plus.onResize={init:function(){G5Plus.common.windowResized();G5Plus.page.windowResized();G5Plus.woocommerce.windowResized();G5Plus.header.windowResized();G5Plus.blog.windowResized()}};G5Plus.onScroll={init:function(){G5Plus.header.windowsScroll();G5Plus.common.windowScroll()}};f(window).resize(G5Plus.onResize.init);f(window).scroll(G5Plus.onScroll.init);f(document).ready(G5Plus.onReady.init);f(window).load(G5Plus.onLoad.init)})(jQuery);