(function(b){var c=true;var a={vars:{filter_id:"",ourteam_items:[]},init:function(){this.filterCarousel();this.filterRow();this.loadMore();this.resize();this.selectCategory()},loadMore:function(){var d=true;b(".ot-load-more").each(function(){b(this).on("click",function(g){g.preventDefault();if(d){var f=b(this);f.css("cursor","not-allowed");d=false;var e=b(this).parent().prev();var h=b(this).button("loading");b.ajax({url:g5plus_ourteam_meta.ajax_url,data:{action:"ourteam_load_more",current_page:f.data("current_page"),columns:f.data("columns"),category:f.data("category"),post_per_page:f.data("post_per_page"),layout_style:f.data("layout_style")},success:function(j){var i=b(".ourteam-item",j).css({opacity:0});var k=b(".ot-load-more",j).attr("data-current_page");if(typeof(k)!="undefined"){f.attr("data-current_page",k);f.data("current_page",k)}else{f.parent().remove()}e.append(i);i.imagesLoaded({background:true},function(){i.animate({opacity:1});e.isotope("appended",i)});f.css("cursor","pointer");h.button("reset");e.prev().children().first().click();d=true},error:function(i){h.button("reset");f.css("cursor","pointer");d=true}})}})})},filterCarousel:function(){b(".ourteam-tab.owl-carousel").each(function(){var d=b(this).prev().children("a");b(d).button({loadingText:'<span class="fa fa-spinner fa-spin"></span> Loading...'});b(d).parent().prev().children("option").button({loadingText:'<span class="fa fa-spinner fa-spin"></span> Loading...'});b(d).on("click",function(i){i.preventDefault();var f=true;var k=b(this);if(!k.hasClass("btn-light")){k.css("cursor","not-allowed");f=false}else{k.parent().children("a").css("cursor","wait");if(c&&f){c=false;var j=b(this).data("filter");k.parent().prev().children("option").removeAttr("selected");k.parent().prev().children('option[value="'+j+'"]').attr("selected","selected");a.vars.filter_id=k.parent().data("filter_id");k.parent().children("a").addClass("btn-light");k.removeClass("btn-light");var h=k.parent().parent();h.css("height",h.outerHeight());if(typeof a.vars.ourteam_items[j+"-"+a.vars.filter_id]=="undefined"){var l=k.button("loading");k.parent().prev().children("option").button("loading");b.ajax({url:g5plus_ourteam_meta.ajax_url,data:{action:"ourteam_filter_carousel",layout_style:k.parent().data("layout_style"),category:k.data("filter"),columns:k.parent().data("columns"),item_amounts:k.parent().data("item_amounts")},success:function(o){var m=b(".ourteam-item",o);a.vars.ourteam_items[j+"-"+a.vars.filter_id]=m;var n=k.parent().next(".ourteam-tab.owl-carousel");n.css("opacity",0);n.trigger("destroy.owl.carousel").removeClass("owl-carousel owl-loaded");n.find(".owl-stage-outer").children().unwrap();n.html(m);a.setItemEffect(m,"hide");n.css("opacity",1);n.addClass("owl-carousel");G5Plus.common.owlCarousel();n.imagesLoaded(function(){m=b(".ourteam-item",n);a.setItemEffect(m,"show");h.css("height","auto")});l.button("reset");k.parent().prev().children("option").button("reset");k.parent().prev().removeAttr("disabled");c=true;k.parent().children("a").css("cursor","pointer");k.parent().children("a:not(.btn-light)").css("cursor","not-allowed")},error:function(m){l.button("reset");c=true}})}else{var g=k.parent().next(".ourteam-tab.owl-carousel");var e=a.vars.ourteam_items[j+"-"+a.vars.filter_id];g.css("opacity",0);g.trigger("destroy.owl.carousel").removeClass("owl-carousel owl-loaded");g.find(".owl-stage-outer").children().unwrap();g.html(e);a.setItemEffect(e,"hide");g.css("opacity",1);g.addClass("owl-carousel");G5Plus.common.owlCarousel();g.imagesLoaded(function(){e=b(".ourteam-item",g);a.setItemEffect(e,"show");h.css("height","auto")});k.parent().prev().removeAttr("disabled");c=true;k.parent().children("a").css("cursor","pointer");k.parent().children("a:not(.btn-light)").css("cursor","not-allowed")}}}})})},filterRow:function(){var g=b("body").hasClass("rtl");var e=b(".ourteam-content");b(e).each(function(){var h=b(this);h.imagesLoaded(function(){h.isotope({itemSelector:".ourteam-item",layoutMode:"fitRows",isOriginLeft:!g,transitionDuration:"0.8s"})})});b(".ourteam-filter").each(function(){b(this).on("click","a",function(){var i=true;if(!b(this).hasClass("btn-light")){i=false}var h=b(this).parent().next(".ourteam-content");if(c&&i){b(this).parent().children("a").addClass("btn-light");b(this).removeClass("btn-light");b(this).parent().children("a").css("cursor","pointer");b(this).css("cursor","not-allowed");var j=b(this).attr("data-filter");h.isotope({filter:j});b(this).parent().prev().removeAttr("disabled");b(this).parent().prev().children("option").removeAttr("selected");b(this).parent().prev().children('option[value="'+j+'"]').attr("selected","selected")}})});var f=b(".filter-archive").data("active");if(typeof(f)!="undefined"){var d=b(".filter-archive a[data-filter='"+f+"']");d.click()}c=true},setItemEffect:function(f,d){if(d=="hide"){f.css("opacity",0);f.css("transition","opacity 1.5s linear, transform 1s");f.css("-webkit-transition","opacity 1.5s linear, transform 1s");f.css("-moz-transition","opacity 1.5s linear, transform 1s");f.css("-ms-transition","opacity 1.5s linear, transform 1s");f.css("-o-transition","opacity 1.5s linear, transform 1s");f.css("transform","scale(0.2)");f.css("-ms-transform","scale(0.2)");f.css("-webkit-transform","scale(0.2)")}if(d=="show"){for(var e=0;e<f.length;e++){(function(h){var g=100+100*e;setTimeout(function(){b(f[h]).css("opacity",1);b(f[h]).css("transform","scale(1)");b(f[h]).css("-ms-transform","scale(1)");b(f[h]).css("-webkit-transform","scale(1)")},g)})(e)}}},resize:function(){b(window).resize(function(){b(".ourteam-tab.owl-carousel").each(function(){var d=b(this);setTimeout(function(){var e=b(".ourteam-item",d);a.setItemEffect(e,"show")},500)})});b(window).on("orientationchange",function(){b(".ourteam-tab.owl-carousel").each(function(){var d=b(this);setTimeout(function(){var e=b(".ourteam-item",d);a.setItemEffect(e,"show")},500)})})},selectCategory:function(){var d=b("select.ourteam-filter-group");d.off();b(d).on("change",function(f){b(this).attr("disabled","disabled");f.preventDefault();var g=b("option:selected",this).attr("value");var e=b(this).next().children('[data-filter="'+g+'"]');e.click()})}};b(document).ready(function(){a.init()})})(jQuery);